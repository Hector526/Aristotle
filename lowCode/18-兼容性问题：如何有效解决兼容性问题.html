<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>18 ｜兼容性问题：如何有效解决兼容性问题？ | 柴帽双全的博客</title>
    <meta name="description" content="柴帽双全的博客">
    <link rel="preload stylesheet" href="/Aristotle/assets/style.1d92c761.css" as="style">
    <script type="module" src="/Aristotle/assets/app.3968937b.js"></script>
    <link rel="preload" href="/Aristotle/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/Aristotle/assets/chunks/framework.13ec461e.js">
  <link rel="modulepreload" href="/Aristotle/assets/chunks/theme.dc1fb1bc.js">
  <link rel="modulepreload" href="/Aristotle/assets/lowCode_18-兼容性问题：如何有效解决兼容性问题.md.25a8b5b8.lean.js">
  <link rel="icon" href="/logo.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css">
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-b2cf3e0b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8616af1></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8616af1> Skip to content </a><!--]--><!----><header class="VPNav" data-v-b2cf3e0b data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-1d30fa41><div class="container" data-v-1d30fa41><div class="title" data-v-1d30fa41><div class="VPNavBarTitle has-sidebar" data-v-1d30fa41 data-v-f4ef19a3><a class="title" href="/Aristotle/" data-v-f4ef19a3><!--[--><!--]--><!--[--><img class="VPImage logo" src="/Aristotle/logo.png" alt data-v-6db2186b><!--]--><!--[-->柴帽双全<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-1d30fa41><div class="curtain" data-v-1d30fa41></div><div class="content-body" data-v-1d30fa41><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1d30fa41 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Aristotle/course/" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->课程笔记<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Aristotle/knowledge/" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->前端知识<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-1d30fa41 data-v-f6a63727><label title="toggle dark mode" data-v-f6a63727 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-1d30fa41 data-v-0394ad82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/Hector526" aria-label="github" target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://juejin.cn/user/2559318799429822" aria-label target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg t="1663660926462" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2449" width="200" height="200"><path d="M465.189 161.792c-22.967 18.14-44.325 35.109-47.397 37.742l-5.851 4.68 10.971 8.632c5.998 4.827 11.85 9.508 13.02 10.532 1.17 1.024 17.993 14.336 37.156 29.696l34.962 27.795 5.267-3.95c2.925-2.194 23.259-18.432 45.348-35.986 21.943-17.555 41.253-32.768 42.716-33.646 1.609-1.024 2.779-2.194 2.779-2.78 0-0.438-9.655-8.63-21.504-17.846-11.995-9.363-22.674-17.847-23.845-18.871-15.945-13.02-49.737-39.059-50.76-39.059-0.586 0.147-19.896 14.922-42.862 33.061z m233.325 180.37C507.465 493.275 508.928 492.105 505.417 489.911c-3.072-1.902-11.556-8.485-64.073-50.03-9.07-7.168-18.578-14.775-21.358-16.823-2.78-2.194-8.777-6.875-13.312-10.532-4.68-3.657-10.679-8.339-13.312-10.533-13.165-10.24-71.095-56.027-102.107-80.457-5.852-4.681-11.41-8.485-12.142-8.485-0.731 0-10.971 7.754-22.674 17.116-11.703 9.508-22.674 18.286-24.284 19.456-1.755 1.17-5.12 3.95-7.46 6.144-2.34 2.34-4.828 4.096-5.413 4.096-3.072 0-0.731 3.072 6.437 8.777 4.096 3.218 8.777 6.875 10.094 8.046 1.316 1.024 10.24 8.045 19.748 15.506s23.26 18.286 30.428 23.99c19.31 15.215 31.89 25.308 127.853 101.084 47.836 37.742 88.796 69.779 90.844 71.095 3.657 2.487 3.95 2.487 7.46-0.292a1041.42 1041.42 0 0 0 16.092-12.727c6.875-5.413 14.775-11.703 17.554-13.897 30.135-23.699 80.018-63.05 81.774-64.512 1.17-1.024 12.434-9.802 24.868-19.603s37.888-29.696 56.32-44.324c18.579-14.629 46.227-36.425 61.733-48.567 15.506-12.142 27.794-22.528 27.502-23.26-0.878-1.17-57.637-47.104-59.978-48.274-0.731-0.439-18.578 12.727-39.497 29.257z" fill="#8a8a8a" p-id="2450"></path><path d="M57.93 489.326c-15.215 12.288-28.527 23.405-29.697 24.576-2.34 2.194-5.412-0.44 80.018 66.852 33.207 26.185 32.622 25.747 57.637 45.495 10.386 8.192 36.279 28.672 57.783 45.495 38.18 30.135 44.91 35.401 52.663 41.545 2.048 1.756 22.967 18.14 46.372 36.572 23.26 18.432 74.167 58.514 112.933 89.088 38.912 30.573 71.095 55.734 71.826 56.027 0.732 0.293 7.46-4.389 14.921-10.386 21.797-16.97 90.259-70.949 101.523-79.872 5.705-4.535 12.873-10.24 15.945-12.58 3.072-2.488 6.436-5.12 7.314-5.852 0.878-0.878 11.85-9.509 24.283-19.31 20.773-16.091 59.1-46.226 64.366-50.615 1.17-1.024 5.12-4.096 8.777-6.875 3.657-2.78 7.9-6.29 9.509-7.607 1.609-1.317 14.775-11.703 29.257-23.113 29.11-22.82 42.277-33.207 88.503-69.632 17.262-13.605 32.475-25.454 33.646-26.478 2.486-2.048 31.451-24.869 44.617-35.255 4.827-3.657 9.07-7.168 9.508-7.607 0.44-0.585 5.998-4.827 12.435-9.8 6.436-4.828 13.165-10.24 15.067-11.85l3.365-2.926-9.948-7.753c-5.412-4.388-10.24-8.192-10.679-8.63-1.17-1.317-22.381-18.433-30.135-24.284-3.95-3.072-7.314-5.998-7.606-6.73-1.317-3.071-6.73 0.147-29.258 17.994-13.458 10.532-25.746 20.187-27.355 21.504-1.61 1.463-10.533 8.338-19.749 15.652-9.216 7.168-17.115 13.459-17.554 13.898-0.439 0.438-6.583 5.412-13.897 10.971-7.168 5.559-15.214 11.703-17.7 13.75-4.974 4.097-5.413 4.39-20.334 16.239-5.56 4.388-11.264 8.777-12.435 9.8-1.17 1.025-20.333 16.092-42.422 33.354-22.09 17.408-41.546 32.768-43.155 34.084-1.609 1.463-14.482 11.557-28.525 22.528s-40.814 32.037-59.539 46.812c-18.578 14.775-42.276 33.353-52.516 41.399s-23.26 18.285-28.965 22.82l-10.386 8.339-4.389-3.072c-2.34-1.756-4.68-3.511-5.12-3.95-0.439-0.439-4.973-4.096-10.24-8.046-11.849-9.216-14.482-11.264-16.676-13.166-0.878-0.877-4.243-3.51-7.46-5.851-3.22-2.487-6.145-4.681-6.584-5.12-0.439-0.439-6.875-5.705-14.482-11.703-7.607-5.851-14.921-11.556-16.091-12.58-1.317-1.17-17.116-13.605-35.255-27.795-17.993-14.19-35.109-27.648-38.035-29.842-5.705-4.681-33.499-26.624-125.074-98.743-34.523-27.209-72.704-57.344-84.846-66.852-49.737-39.498-55.15-43.594-56.905-43.447-0.877 0-14.043 10.24-29.257 22.528z" fill="#8a8a8a" p-id="2451"></path></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-1d30fa41 data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><label title="toggle dark mode" data-v-40855f84 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/Hector526" aria-label="github" target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://juejin.cn/user/2559318799429822" aria-label target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg t="1663660926462" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2449" width="200" height="200"><path d="M465.189 161.792c-22.967 18.14-44.325 35.109-47.397 37.742l-5.851 4.68 10.971 8.632c5.998 4.827 11.85 9.508 13.02 10.532 1.17 1.024 17.993 14.336 37.156 29.696l34.962 27.795 5.267-3.95c2.925-2.194 23.259-18.432 45.348-35.986 21.943-17.555 41.253-32.768 42.716-33.646 1.609-1.024 2.779-2.194 2.779-2.78 0-0.438-9.655-8.63-21.504-17.846-11.995-9.363-22.674-17.847-23.845-18.871-15.945-13.02-49.737-39.059-50.76-39.059-0.586 0.147-19.896 14.922-42.862 33.061z m233.325 180.37C507.465 493.275 508.928 492.105 505.417 489.911c-3.072-1.902-11.556-8.485-64.073-50.03-9.07-7.168-18.578-14.775-21.358-16.823-2.78-2.194-8.777-6.875-13.312-10.532-4.68-3.657-10.679-8.339-13.312-10.533-13.165-10.24-71.095-56.027-102.107-80.457-5.852-4.681-11.41-8.485-12.142-8.485-0.731 0-10.971 7.754-22.674 17.116-11.703 9.508-22.674 18.286-24.284 19.456-1.755 1.17-5.12 3.95-7.46 6.144-2.34 2.34-4.828 4.096-5.413 4.096-3.072 0-0.731 3.072 6.437 8.777 4.096 3.218 8.777 6.875 10.094 8.046 1.316 1.024 10.24 8.045 19.748 15.506s23.26 18.286 30.428 23.99c19.31 15.215 31.89 25.308 127.853 101.084 47.836 37.742 88.796 69.779 90.844 71.095 3.657 2.487 3.95 2.487 7.46-0.292a1041.42 1041.42 0 0 0 16.092-12.727c6.875-5.413 14.775-11.703 17.554-13.897 30.135-23.699 80.018-63.05 81.774-64.512 1.17-1.024 12.434-9.802 24.868-19.603s37.888-29.696 56.32-44.324c18.579-14.629 46.227-36.425 61.733-48.567 15.506-12.142 27.794-22.528 27.502-23.26-0.878-1.17-57.637-47.104-59.978-48.274-0.731-0.439-18.578 12.727-39.497 29.257z" fill="#8a8a8a" p-id="2450"></path><path d="M57.93 489.326c-15.215 12.288-28.527 23.405-29.697 24.576-2.34 2.194-5.412-0.44 80.018 66.852 33.207 26.185 32.622 25.747 57.637 45.495 10.386 8.192 36.279 28.672 57.783 45.495 38.18 30.135 44.91 35.401 52.663 41.545 2.048 1.756 22.967 18.14 46.372 36.572 23.26 18.432 74.167 58.514 112.933 89.088 38.912 30.573 71.095 55.734 71.826 56.027 0.732 0.293 7.46-4.389 14.921-10.386 21.797-16.97 90.259-70.949 101.523-79.872 5.705-4.535 12.873-10.24 15.945-12.58 3.072-2.488 6.436-5.12 7.314-5.852 0.878-0.878 11.85-9.509 24.283-19.31 20.773-16.091 59.1-46.226 64.366-50.615 1.17-1.024 5.12-4.096 8.777-6.875 3.657-2.78 7.9-6.29 9.509-7.607 1.609-1.317 14.775-11.703 29.257-23.113 29.11-22.82 42.277-33.207 88.503-69.632 17.262-13.605 32.475-25.454 33.646-26.478 2.486-2.048 31.451-24.869 44.617-35.255 4.827-3.657 9.07-7.168 9.508-7.607 0.44-0.585 5.998-4.827 12.435-9.8 6.436-4.828 13.165-10.24 15.067-11.85l3.365-2.926-9.948-7.753c-5.412-4.388-10.24-8.192-10.679-8.63-1.17-1.317-22.381-18.433-30.135-24.284-3.95-3.072-7.314-5.998-7.606-6.73-1.317-3.071-6.73 0.147-29.258 17.994-13.458 10.532-25.746 20.187-27.355 21.504-1.61 1.463-10.533 8.338-19.749 15.652-9.216 7.168-17.115 13.459-17.554 13.898-0.439 0.438-6.583 5.412-13.897 10.971-7.168 5.559-15.214 11.703-17.7 13.75-4.974 4.097-5.413 4.39-20.334 16.239-5.56 4.388-11.264 8.777-12.435 9.8-1.17 1.025-20.333 16.092-42.422 33.354-22.09 17.408-41.546 32.768-43.155 34.084-1.609 1.463-14.482 11.557-28.525 22.528s-40.814 32.037-59.539 46.812c-18.578 14.775-42.276 33.353-52.516 41.399s-23.26 18.285-28.965 22.82l-10.386 8.339-4.389-3.072c-2.34-1.756-4.68-3.511-5.12-3.95-0.439-0.439-4.973-4.096-10.24-8.046-11.849-9.216-14.482-11.264-16.676-13.166-0.878-0.877-4.243-3.51-7.46-5.851-3.22-2.487-6.145-4.681-6.584-5.12-0.439-0.439-6.875-5.705-14.482-11.703-7.607-5.851-14.921-11.556-16.091-12.58-1.317-1.17-17.116-13.605-35.255-27.795-17.993-14.19-35.109-27.648-38.035-29.842-5.705-4.681-33.499-26.624-125.074-98.743-34.523-27.209-72.704-57.344-84.846-66.852-49.737-39.498-55.15-43.594-56.905-43.447-0.877 0-14.043 10.24-29.257 22.528z" fill="#8a8a8a" p-id="2451"></path></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-1d30fa41 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-b2cf3e0b data-v-f5a2ca58><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-f5a2ca58><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-f5a2ca58><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-f5a2ca58>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-f5a2ca58 data-v-079b16a8><button data-v-079b16a8>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-b2cf3e0b data-v-139a1f1d><div class="curtain" data-v-139a1f1d></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-139a1f1d><span class="visually-hidden" id="sidebar-aria-label" data-v-139a1f1d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-139a1f1d><section class="VPSidebarItem level-0 has-active" data-v-139a1f1d data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>说透低代码</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-c4656e6d data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h3 class="text" data-v-c4656e6d>开篇词</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/00-%E6%8A%9B%E5%BC%80%E4%BA%89%E8%AE%BA%EF%BC%8C%E5%85%88%E6%9D%A5%E7%9C%8B%E7%9C%8B%E7%9C%9F%E6%AD%A3%E7%9A%84%E4%BD%8E%E4%BB%A3%E7%A0%81.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>00-抛开争论，先来看看真正的低代码</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-c4656e6d data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h3 class="text" data-v-c4656e6d>认知基础与架构策略</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/01-%E4%BD%8E%E4%BB%A3%E7%A0%81%E5%B9%B3%E5%8F%B0%E5%88%B0%E5%BA%95%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>01-低代码平台到底是什么样的</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/02-%E4%BD%8E%E4%BB%A3%E7%A0%81%E5%88%B0%E5%BA%95%E6%98%AF%E9%93%B6%E5%BC%B9%EF%BC%8C%E8%BF%98%E6%98%AF%E8%A1%8C%E4%B8%9A%E6%AF%92%E7%98%A4.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>02-低代码到底是银弹，还是行业毒瘤</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/03-%E4%BD%8E%E4%BB%A3%E7%A0%81%E7%9A%84%E5%A4%A9%E8%8A%B1%E6%9D%BF%EF%BC%9A%E4%B8%80%E4%B8%AA%E5%AE%8C%E5%A4%87%E7%9A%84%E4%BD%8E%E4%BB%A3%E7%A0%81%E5%B9%B3%E5%8F%B0%E5%BA%94%E8%AF%A5%E5%85%B7%E5%A4%87%E5%93%AA%E4%BA%9B%E6%9D%A1%E4%BB%B6.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>03-低代码的天花板：一个完备的低代码平台应该具备哪些条件</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/04-%E6%BC%94%E8%BF%9B%E7%AD%96%E7%95%A5%EF%BC%9A%E5%85%88%E5%8F%91%E5%B1%95%E9%80%9A%E7%94%A8%E8%83%BD%E5%8A%9B%E8%BF%98%E6%98%AF%E5%85%88%E6%BB%A1%E8%B6%B3%E4%B8%9A%E5%8A%A1%E9%9C%80%E6%B1%82.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>04-演进策略：先发展通用能力还是先满足业务需求</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/05-%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%20%EF%BC%9A%E5%90%AF%E5%8A%A8%E4%BD%8E%E4%BB%A3%E7%A0%81%E5%B9%B3%E5%8F%B0%E7%A0%94%E5%8F%91%E4%B9%8B%E5%89%8D%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E6%9C%89%E4%BB%80%E4%B9%88%E5%AE%B6%E5%BA%95.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>05-基础设施 ：启动低代码平台研发之前，你需要有什么家底</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-c4656e6d data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h3 class="text" data-v-c4656e6d>核心功能开发</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/06-%E8%B8%8F%E5%87%BA%E6%96%B0%E6%89%8B%E6%9D%91%E4%BE%BF%E9%81%AD%E9%81%87%E5%A4%A7Boss%EF%BC%9A%E5%A6%82%E4%BD%95%E6%9E%B6%E6%9E%84%E4%BD%8E%E4%BB%A3%E7%A0%81%E7%9A%84%E5%BC%95%E6%93%8E.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>06-踏出新手村便遭遇大Boss：如何架构低代码的引擎</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/07-%E7%BB%93%E6%9E%84%E5%8C%96%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E6%B3%95%EF%BC%9A%E4%BB%A3%E7%A0%81%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>07-结构化代码生成法：代码如何生成代码</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/08-%E5%B8%83%E5%B1%80%E7%BC%96%E8%BE%91%E5%99%A8%EF%BC%9A%E5%A6%82%E4%BD%95%E5%81%9A%E5%88%B0%E9%B1%BC%E5%92%8C%E7%86%8A%E6%8E%8C%E5%85%BC%E5%BE%97.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>08-布局编辑器：如何做到鱼和熊掌兼得</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/09-%E5%B1%9E%E6%80%A7%E7%BC%96%E8%BE%91%E5%99%A8%EF%BC%9A%E5%A6%82%E4%BD%95%E8%A7%A3%E9%99%A4Web%E7%BB%84%E4%BB%B6%E5%B1%9E%E6%80%A7%E4%B8%8E%E7%BC%96%E8%BE%91%E5%99%A8%E7%9A%84%E8%80%A6%E5%90%88.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>09-属性编辑器：如何解除Web组件属性与编辑器的耦合</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/10-%E5%8F%AF%E8%A7%86%E5%8C%96%E7%BC%96%E7%A8%8B%EF%BC%9A%E5%A6%82%E4%BD%95%E6%9C%89%E6%95%88%E9%99%8D%E4%BD%8EApp%E5%89%8D%E5%90%8E%E7%AB%AF%E9%80%BB%E8%BE%91%E5%BC%80%E5%8F%91%E7%9A%84%E6%8A%80%E8%83%BD%E9%97%A8%E6%A7%9B.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>10-可视化编程：如何有效降低App前后端逻辑开发的技能门槛</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/11-%E4%BA%A6%E6%95%8C%E4%BA%A6%E5%8F%8B%EF%BC%9ALow%20Code%E4%B8%8EPro%20Code%E6%B7%B7%E5%90%88%E4%BD%BF%E7%94%A8%E6%80%8E%E6%A0%B7%E5%AE%9E%E7%8E%B0.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>11-亦敌亦友：Low Code与Pro Code混合使用怎样实现</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/12-%E4%B8%9A%E5%8A%A1%E6%95%B0%E6%8D%AE%EF%BC%9A%E5%86%8D%E5%A5%BD%E7%9A%84App%EF%BC%8C%E6%B2%A1%E6%9C%89%E6%95%B0%E6%8D%AE%E4%B9%9F%E6%98%AF%E7%99%BD%E6%90%AD.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>12-业务数据：再好的App，没有数据也是白搭</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/13-%E5%A4%9A%E4%BA%BA%E5%8D%8F%E5%90%8C%E7%BC%96%E8%BE%91%EF%BC%9A%E9%87%8E%E7%99%BE%E5%90%88%E7%9A%84%E6%98%A5%E5%A4%A9%E4%B8%BA%E5%95%A5%E6%9D%A5%E5%BE%97%E8%BF%99%E4%B9%88%E6%99%9A.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>13-多人协同编辑：野百合的春天为啥来得这么晚</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/14-%E7%BC%96%E8%BE%91%E5%8E%86%E5%8F%B2%EF%BC%9A%E6%98%AF%E5%AF%B9Git%E5%81%9A%E6%94%B9%E9%80%A0%EF%BC%8C%E8%BF%98%E6%98%AF%E5%8F%A6%E8%BE%9F%E8%B9%8A%E5%BE%84.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>14-编辑历史：是对Git做改造，还是另辟蹊径</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-c4656e6d data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h3 class="text" data-v-c4656e6d>平台功能拓展</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/15-%E4%BD%8E%E4%BB%A3%E7%A0%81%E5%B9%B3%E5%8F%B0%E5%BA%94%E8%AF%A5%E4%BC%98%E5%85%88%E8%A6%86%E7%9B%96%E5%BA%94%E7%94%A8%E7%A0%94%E5%8F%91%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%AD%E7%9A%84%E5%93%AA%E4%BA%9B%E5%8A%9F%E8%83%BD.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>15-低代码平台应该优先覆盖应用研发生命周期中的哪些功能</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/16-%E6%89%A9%E5%B1%95%E4%B8%8E%E5%AE%9A%E5%88%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%8F%92%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%B9%B6%E5%BD%A2%E6%88%90%E7%94%9F%E6%80%81%E5%9C%88.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>16-扩展与定制：如何实现插件系统并形成生态圈</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-c4656e6d data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h3 class="text" data-v-c4656e6d>阶段性总结</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B-%E4%BD%8E%E4%BB%A3%E7%A0%81%E4%B9%8B%E8%B7%AF%EF%BC%8C%E6%88%91%E4%BB%AC%E6%89%8D%E5%88%9A%E5%88%9A%E5%BC%80%E5%A7%8B.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>总结与展望-低代码之路，我们才刚刚开始</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible has-active" data-v-c4656e6d data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h3 class="text" data-v-c4656e6d>动态更新</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/17-%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98%EF%BC%9A%E5%A6%82%E4%BD%95%E6%9C%89%E6%95%88%E5%8F%91%E7%8E%B0%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>17-兼容性问题：如何有效发现兼容性问题</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link is-active has-active" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/18-%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98%EF%BC%9A%E5%A6%82%E4%BD%95%E6%9C%89%E6%95%88%E8%A7%A3%E5%86%B3%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>18-兼容性问题：如何有效解决兼容性问题</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/Aristotle/lowCode/19-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E5%B9%B3%E6%B0%91%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0UX%E8%AE%BE%E8%AE%A1%E7%A8%BF%E8%BD%AC%E4%BB%A3%E7%A0%81.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>19-如何使用平民技术实现UX设计稿转代码</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-b2cf3e0b data-v-a494bd1d><div class="VPDoc has-sidebar has-aside" data-v-a494bd1d data-v-c4b0d3cf><!--[--><!--]--><div class="container" data-v-c4b0d3cf><div class="aside" data-v-c4b0d3cf><div class="aside-curtain" data-v-c4b0d3cf></div><div class="aside-container" data-v-c4b0d3cf><div class="aside-content" data-v-c4b0d3cf><div class="VPDocAside" data-v-c4b0d3cf data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-8f12e865><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c4b0d3cf><div class="content-container" data-v-c4b0d3cf><!--[--><!--]--><!----><main class="main" data-v-c4b0d3cf><div style="position:relative;" class="vp-doc _Aristotle_lowCode_18-%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98%EF%BC%9A%E5%A6%82%E4%BD%95%E6%9C%89%E6%95%88%E8%A7%A3%E5%86%B3%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98" data-v-c4b0d3cf><div><h1 id="_18-兼容性问题-如何有效解决兼容性问题" tabindex="-1">18 ｜兼容性问题：如何有效解决兼容性问题？ <a class="header-anchor" href="#_18-兼容性问题-如何有效解决兼容性问题" aria-label="Permalink to &quot;18 ｜兼容性问题：如何有效解决兼容性问题？&quot;">​</a></h1><p>上一讲我们提到，在软件的演进过程中，特别是在低代码平台这样的庞大软件工程中，兼容性问题，也就是破坏性变更是无法避免的。只要软件的代码有改动，就有可能引入破坏性，因此破坏性变更与软件的演进之间如影随形、不可分割。</p><p>破坏性变更所造成的后果，有可能微乎其微，也有可能是致命的。会造成严重后果的破坏性变更往往会受到重点“照顾”从而被妥善解决，那些没那么大破坏力的破坏性变更，一旦泄露到线上，不仅会造成体验问题，还有可能造成小范围功能不可用。</p><p>这一讲我们就承接上一讲的内容，重点讲讲如何妥善处理兼容性问题。当然，发现破坏性变更是解决它的第一步，具体我已经在上一讲中详细介绍了，所以我建议你在继续这一讲的学习之前，先回顾一下上一讲的内容。在讲具体如何解决之前，我们先来分析下低代码平台中一般会有哪些类型的破坏性变更。</p><h2 id="有哪些类型的破坏性变更" tabindex="-1">有哪些类型的破坏性变更？ <a class="header-anchor" href="#有哪些类型的破坏性变更" aria-label="Permalink to &quot;有哪些类型的破坏性变更？&quot;">​</a></h2><p><strong>Schema 数据结构的变更是低代码平台演进过程中最常见的破坏性变更。</strong></p><p>我们都知道，低代码平台往往会采用结构化的数据来保存开发者在平台上所作的配置，这些配置数据就是 Schema 数据。Schema 的数据结构往往是随着低代码平台的功能迭代同步发生变化的，典型如某个字段一开始只要一个简单值类型就够用，后来扩展为一个包含多个属性的对象以适应日益复杂的功能；又如从一个单值扩展为一个数组，或者反之，从一个数组简化为一个单值；再如多个复杂字段的各个属性的拆分与再组合。</p><p>总之，Schema 数据结构的变更中，基本上除了新增属性外的任何修改都大概率会引入破坏性。根据我长期迭代的经验来说，<strong>Schema 数据结构的变更大约贡献了 50% 破坏性问题</strong>。并且，这个比例在低代码平台功能建设初期会更高，随着低代码平台的成熟度的增加而逐渐下降。</p><p>除此之外，我们再来看看常见的模版文件更新。作为一个开发平台，在生成一些程式化内容的时候，使用模板文件进行替换是一个常用手段，比如下面是一个简单的 index.html 文件的模板：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;!</span><span style="color:#85E89D;">DOCTYPE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">html</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;${title}&lt;/</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;text/javascript&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;${scriptHref}&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">rel</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;stylesheet&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;text/css&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;${cssHref}&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    ${someContent}</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;!</span><span style="color:#22863A;">DOCTYPE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;${title}&lt;/</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">type</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;text/javascript&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;${scriptHref}&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">rel</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;stylesheet&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">type</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;text/css&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;${cssHref}&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    ${someContent}</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>可以看到，模板里有一些 title、{scriptHref}等格式的文本，这些就是占位符。这个模板通常是这样使用的：处理程序或将它读入到内存中，并使用直接替换的方式，将所有的占位符替换为实际值，然后将替换后的内容写入到指定位置去，这个过程简称为模板的实例化。<strong>注意，实例化过程，模板原件不会被修改</strong>。</p><p>但是随着低代码平台的演进，模板的内容难免要更新，此时问题就来了：在模板更新前就已经实例化所得的文件内容是不会更新的。也就是说，已被实例化出来的文件不能用了，需要强制对齐。所以，<strong>模板文件的更新，也会引入破坏性。根据我的经验，这个类型的破坏性大概占 20%</strong>。</p><p>不过这些都是平台内部的破坏性，那<strong>平台外部导致的破坏性</strong>会有哪些呢？</p><p>显然，现代的软件底层都是由一堆第三方软件堆起来的，低代码平台也是如此。任何第三方库的升级，特别是跨大版本升级，都有可能引入破坏性，比如从 Vue2 升级到 Vue3，或者从 Angular8.x 升级到 Angular10.x 等。低代码平台所用的组件集如果有破坏性变更，基本上都会直接传递给应用工程。</p><p>与前端第三方库升级会带来破坏性一样，服务端 API 的演进也会带来破坏性。而且由于这些 API 往往是兄弟单位内部自研，相比开源库来说，自研功能在兼容性方面的考虑和投入会少很多，甚至完全不考虑兼容性，在上线前能够想起来发一个强制对齐说明邮件就算做得很到位了。</p><p><strong>这些外部环境或依赖所引入的破坏性变更大概占了 20%</strong>。总体来说，低代码平台内部演进所产生破坏性变更占了绝大多数。</p><h2 id="if-else-方案" tabindex="-1">if else 方案 <a class="header-anchor" href="#if-else-方案" aria-label="Permalink to &quot;if else 方案&quot;">​</a></h2><p>在上一讲以及这一讲的前面部分，我们完成了解决破坏性的第一步：了解和发现它们，接下来要做的就是解决它们了。低代码平台迭代的过程，任何修改都有可能引入破坏性，一个最容易想到的办法是大量使用 if else。</p><p>我们先来看下图，这是一个没有任何破坏性的低代码平台的迭代过程，相当丝滑：</p><p><img src="data:image/webp;base64,UklGRjABAABXRUJQVlA4ICQBAACwCwCdASqWARIAPplGoEslo6MhoVgMALATCUASoGqUwi8x4YDz1W6ACwGqne5eH4QTOI9TFv+CCZxHqYt/wQTN7ugCjKLpt1dWUjXXQxR5c+nXt3sKPLn069u9hR5c+nXNZtDk4uAA/vzWBeLoOG2me3EL/6zcUYFkYiQcMs9ZPnG6snzyrG25mO05tSUVQekxAABLAO0yrJ+gxs8VvNERaTWTKEVGRZRr4vI2BowHaw4EEDwJ84vFY4QqRsLz9QLjWGzBA39rFHI/uZQWP1LWGFw6LD6e810KtP/rsXNAdQDmDw6HJ/KMklgPWN1/ojarCKgIAcMEU/jjJ+pxzyt8AACI0sh3z54K/xsCTnJKsHedgdPXrpd4n+z7+ZakXBvfQAAA" alt="8cf2d7dfc031e1ff99f705c8f4cd7b1f" data-fancybox="gallery"></p><p>当发生了第一个破坏性（记为 A）的时候，这根直线就会产生一个分叉：</p><p><img src="data:image/webp;base64,UklGRuQDAABXRUJQVlA4INgDAABQGgCdASq3AHgAPplMoUulpKOhphgJCLATCU3cGAAMvgE38lsB3oOS06skEvFxl/ES6ZPmL/aD1t+iV00n/sezz+2sA0c8dkssMKHyhv1FgD4IPXB3utlQx/k9IctKizszGsZE6jn1Pgpd13MQ/BcI1QnF1rYkDHRnPSy73wEznJm/T6ap2m3BGKRQAAjuEXFAT0dyp+MpKyjgfzym5zyloxfz+SVKKibp1W+skuVRwu2aSYfnIyrb9KnSQu8zVGp2RuD+5QBpGplHOmF1WaO1G4MXQWgJtVR62AAA/qS4AUeJAUgEyj0qZqBgf5AdrjrpFehaFBUmxVpVvrpQBq++s+u2Airr9EK+xdIkAGd5BlQXgF8OhXXjea97LWLVYUOuxUtqcvEo1FgP4cLQ5kbqAXbaucMP/XssekNEtRcg9+YKQ/wMexT4Qg/X53w2ZmrLKjepJbOqp06Z1hgCNQzH0M+8muR2SV1wqrgVUb6ua5gbjphmzpzeMMAxOpN6RIC/No2v4v7y4agRV5jI/7IahDz8RIWQZZ5jkn7asOE9dwITTWHvQgD26BfHJGzKui1sFDffc2vNVvoOfPaYN2H3WgWN6CgZRUQjJbefEjDBIItTcCkHbFle592+zZuVfR+MALbHl3/ZApJn856ED59Ln9CdaB9z8pufDmDEuOmgUwPe/qnZPK1v1VBBRof2MfMSAPPfw+3KcTV4PdXz5XzfmF/PktCBe4hLCXUv6+57C/Rpqhq/DbZCTqxacEyi28OnTtIO2iG8RPksauKIxovAGMNPyKvUfdyNA3XJq2qE/ebnbKOow36AdJpCk0HYcQ+yGwpKL+7ftqAdGub63ZPkSbQnDU576WrhUsZIRvDHnq9/WG1ennSmrLWBZERqyCjctxqoCx/abSXwSgudPnZYSboyG7s+etePv+jVwB0e6JEmKj7bOYWKNP34rDGK2L3YWAX+nXlc3GM+oc1+Eyjq/oxwPqkAwzuzs3nHfIuixlhmWeQ8Lw1HMCKAJtp/58gRaln/ajUD0ZSafxmH42RoPaTvVetnyuEA3lsGYXO0jANji+9qquwqEGBVct2xILp1AACJkFUKYU9sAk6ljryG0f6w4Dol/zrWECV/lUDEB99DpAvRJ4WpcB3+Us07gjte5x5B/1mJ43DpQAAKyQEL6l/8DAG/5jzfD9NUYH+J2eeHonNSzlrwhYi0qNy4SGgAe0YIgnUxjS3eslkI8fqNyXnRm3oRiKwOJ0uqAAa4N8+Pr72QOhP0Zq123OA/+WpaKDYsdZMdWDqvJpLmb+duyiW5drAAAAA=" alt="fe9aa45899e3bd61d78664938bb6891f" data-fancybox="gallery"></p><p>那么，这个分叉点当前输入的数据是来自破坏性发生之前，还是在破坏性发生之后呢？显然不同情况下对数据处理方法是不同的（哪怕是细微的）。识别起来很简单，伪代码大概是这样的：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">before</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">A</span><span style="color:#E1E4E8;">)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">before</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">A</span><span style="color:#24292E;">)) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">...</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span></code></pre></div><p>这里的 before(A) 是用来判断数据是否来自破坏性变更之前的，需要根据破坏性 A 的特征来编写 before(A) 的逻辑。一般来说，多数破坏性都有显著的特征，因此它的实现难度不大。为了叙述方便，橙色线条表示破坏性发生之后，而蓝色线条表示破坏性发生之前，以下都采用这个规则。</p><p>接下来继续迭代，我们又引入了一个新的破坏性变更，记为 B，此时又会出现一个分叉：</p><p><img src="data:image/webp;base64,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" alt="315989028959e4e437e990025b1451bb" data-fancybox="gallery"></p><p>这时情况变得复杂了一些，但看起来，再加一个 if else 还是可以搞得定。接下来再发生新的破坏性 C，也一样处理：</p><p><img src="data:image/webp;base64,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" alt="fb393a441b6449ee90c0b0ae8b8eefyy" data-fancybox="gallery"></p><p>到这里，你可能已经发现一些规律了，似乎只要判断一个数据是来自哪些破坏性之后，就可以彻底解决破坏性问题了。</p><p>真的是这样吗？思考一下，破坏性变更 B 在处理破坏性 A 之前产生的数据（图中蓝色分支）时，它的判断条件和在破坏性 A 之后产生的数据（图中橙色分支）的判断条件是一样的吗？答案是：<strong>在蓝色和橙色分支下的判断逻辑很有可能是不同的！</strong></p><p><img src="data:image/webp;base64,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" alt="2d39367744e9b11f0dda4b7bbce1a8a7" data-fancybox="gallery"></p><p>甚至，破坏性 B 在蓝色分支下是否还存在都是一个疑问。同理，在橙色分支下没有破坏性的修改，在蓝色分支下是否依然没有破坏性，也是一个疑问。</p><p>基于这两个疑问，我们可以这样认为，上图中的Ｂ和 B’实际上不是同一个破坏性，而是两个相互独立，互不相干的破坏性，因此，在引入的时间上，破坏性Ｂ和 B’也没有关联（有可能 B 早于 B’发生，反之亦然）。所以上面这个图需要做一些修改才能更贴近实际情况：</p><p><img src="/Aristotle/assets/88fc4d25dfbef20a141ceb58ayy48994.5665b4ed.webp" alt="88fc4d25dfbef20a141ceb58ayy48994" data-fancybox="gallery"></p><p>看到这里，你是否觉得这个问题一下子就变得非常难了。第一个破坏性出现时，用一个 if else 就可以搞定了（2 个情况），当第二个出现时，判断逻辑就有了 2 个条件（4 个情况），第三个破坏性出现时，判断逻辑就有了 3 个条件（8 个情况）。<strong>这个负担是随着破坏性个数为幂爆炸式增长的，大量使用 if else 是无法解决问题的。</strong></p><p>先别气馁，根据前文的分析，虽然图中的蓝色和橙色分支发生破坏性的时机和判断方式没有必然的关联，但这一点反而带来了好消息，我们不难得到这样的推论：<strong>蓝色和橙色这两种情况的处理方法却是等效的</strong>。也就是说，假设有一个方法可以妥善处理橙色分支的破坏性，那么这个方法也可以直接应用到蓝色分支上，从而解决蓝色分支上的破坏性问题。</p><p>这就是解决问题的突破口，但此时我们还无法继续展开。在介绍新方案之前，我们还有一个重要的事情要做，那就是标记破坏性变更。</p><p>之所以我们要先对破坏性变更做标记，是因为我们在拿到任意一份用户数据时，需要通过标记快速找到这份数据里已经包含了哪些破坏性变更，这样才能想办法将它们逐个妥善解决。反之，如果不先做标记，在拿到一份用户数据时，我们就必须编写大量的 if else 逻辑来检测这份数据包含了哪些破坏性变更，根据前面的分析过程，这是不可行的。</p><h2 id="标记破坏性变更" tabindex="-1">标记破坏性变更 <a class="header-anchor" href="#标记破坏性变更" aria-label="Permalink to &quot;标记破坏性变更&quot;">​</a></h2><p>破坏性的引入显然与时间有关。所以，我们在这个图上引入一个时间维度，会有助于解决问题，我们再把各个破坏性投影到时间轴上，得到这样一个图：</p><p><img src="/Aristotle/assets/4e2246dc1a40d4dfe7ac267a2f3bd35c.187c97dd.webp" alt="4e2246dc1a40d4dfe7ac267a2f3bd35c" data-fancybox="gallery"></p><p>看起来，我们可以使用<strong>时间戳</strong>来标记破坏性。这里的关键是，在拿到任何一份应用数据之后，如果能知道这份应用数据是啥时候生成的（如图中的灰色箭头），再与这个时间戳做一下比对，我们很容易就可以知道这份应用数据已经包含了哪些破坏性变更，未包含哪些破坏性变更了。</p><p>但是，时间戳并不是完美的解决方案，一份代码只要没有修改，那么、在任何时候，基于这些代码所构建的版本做出的破坏性的标记，也必然是没有变化的，但是在不同时刻进行构建，时间戳却是不一样的，这就产生了矛盾。</p><p>那么，有没有一种具有时间戳的优点，又能避开它缺点的方法呢？</p><p>我们会很自然地想到<strong>低代码平台的版本号</strong>。首先版本号随时间递增的性质与时间戳相似，其次，如果代码不做任何修改，版本号也就不会改变，这个特性就可以绕过使用时间戳的短板了。</p><p>但其实版本号也不是解决这个问题的完美解决方案，使用版本号来标记破坏性变更，会有一个小副作用：<strong>一旦某个修改带有破坏性，就必须基于该修改发布一个新版本</strong>。但是软件的版本号一般是有规划的，随意发布版本有时候并不可行。</p><p>不过，要解决这个问题也不难，我们可以定义一个内部版本号，与对外发布的版本号分开就可以了。这个内部的版本号可以使用一个递增的数字就够了，每构建一次就 +1，无需设计得太复杂。有许多软件的研发过程，天然就会有内部构建号，此时我们可以直接使用内部构建号来标记破坏性变更。比如我正在用的 Windows 的内部版本号是：</p><p><img src="/Aristotle/assets/c00c10096c64bb3b7f4341487ed85066.2c4a40fa.webp" alt="c00c10096c64bb3b7f4341487ed85066" data-fancybox="gallery"></p><p>再如我正在用的 Sublime，也有类似机制，左侧的是对外的版本号，右侧是它的内部构建号：</p><p><img src="data:image/webp;base64,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" alt="2d455abceaf52a6bb34ac3558bec8507" data-fancybox="gallery"></p><p>不过，在我们的低代码平台 Awade 里，我们并没有采用内部版本号，而是直接使用正式版本号来标记破坏性变更。因为对一个在线软件来说，它的版本号实际上并不重要，开发者任何时候刷新浏览器都有可能拿到新版本，所以大家并不关注版本号是多少。</p><h2 id="如何解决破坏性" tabindex="-1">如何解决破坏性？ <a class="header-anchor" href="#如何解决破坏性" aria-label="Permalink to &quot;如何解决破坏性？&quot;">​</a></h2><p>好了，有了前面的铺垫，我们现在终于可以给出解决方案了，<strong>核心思想就是化整为零</strong>。这时我们再看下前面那张图：</p><p><img src="/Aristotle/assets/4e2246dc1a40d4dfe7ac267a2f3bd35c.187c97dd.webp" alt="4e2246dc1a40d4dfe7ac267a2f3bd35c" data-fancybox="gallery"></p><p>这张图看上去会这么复杂，就是因为当第一个破坏性变更出现的时候，我们对它置之不理导致的。如果每出现一个破坏性，我们都立即进行版本的一致性处理，那么这张图上的情况就不会出现了。</p><p>具体做法是这样的：<strong>每当出现一个破坏性变更的时候，我们都配套给它编写一个处理器，这个处理器的作用是消除掉这一个破坏性</strong>。这里关键是破坏性变更对应的处理器的实现，处理器的输入是变更前的用户数据，处理器的输出是将用户数据调整为符合破坏性变更后的数据格式。这样说比较抽象，我们通过下面这张图来进一步解释。</p><p><img src="data:image/webp;base64,UklGRmIDAABXRUJQVlA4IFYDAADQFQCdASroADwAPplEnkqlo6MhpFQMmLATCUAapo3vVeTb4BMbq7PqA7wDeOY8UzwDuIfkvYj9gHgDKbLlPXEmRqpRpfkh+mPUk/bnsIlaAFLew51a/7ocIXH6k1Jnv1bNdTVbVK4OOJ2T0CIvRhY5tnQwx+lDDxL7+YXSqiGxA+kXSdXolNgzbOqQDkbXa6gCnEiFK0AKABD9MpW6cFOt1zhXCbEqGSKMpy6msUDMiTBTwXpm9AAA/v14JRlEcX3c/9L6JbloYft12sSMkEdqPxmF6TyzyyL5rWQiJTJyOKHJtL255UEX8OEvAHxZ35zRyYZ+x4ZnzI2g8r6N9XTnc5s7pBNDUeHS29xOsZvfb/7dPMbbvSYa4jSeDnIFkFlR4wvbeLPo55+uFRbCpobv62JPJsM70P94CvuvvQqqZVVvoigbn8lfJmphhgt/L+mZWZ0ZztI06D6v/Ny8YIhEBnSEoGqyDZB7Qge+Gu5VyeJ9vYylJgBGTwrjVBodS+8PkUzXeRpetNdljTkSlnyYmjd9fB+xtHHj3xgDhOu4kyDR+QlnRjU2sGpFT4OobtnWisgQVXZWEe7gkkcIxEy8M9l/fxPZXWE4zZWILTolyoYXrK2n3LgSYfjE2Ewmcgp742MI1I0a9nQeEIJYnMbJ58fPb0oUx1YtEb+4mzhcNtHML8cDEFdw/CRA3w5D8gTiHRFsrHFiBmfgbfmBsUoC4HzNYb/MYLyUB1pEIyM/jnjculI7rYuw//Iqw/me363gFsG9q0F1NfYyHc/tTBAtcF4gAMo4Qxk1MXFP0S0/4yki2WxvhMR/tin22i6f5v9Q1z+9Q5Tlme3qTQ1+1gAA93CwW7WzTSTir4BAZPNnb9Sczr9NMK16r86dZYDwkHGrFixhfccQvYyxbp2v6Y5WGJaXy//yWLyy0DivLwNXbfhze++QA7gcYXUIe3FjXP935ANi1f/Mj69T/esWM4qeeysLjxz+Z5WnKs/+OHL6Hf0m2RpIJN+sEEvOG+5dwxNQHu/2Uo9XcdmmV1BzUmGywliPa+YHuQJn9lIAB8MbI1A1OCh2HxUdGBbcQN7y/iWfqNheaPX/+Ycj/0l9P2btWkP3etgD3TSQxHQT1wDhiFa/HYAAAA==" alt="4297fde962edcdb863887a140cfcf45b" data-fancybox="gallery"></p><p>和前面其他图一样，圆圈 A 代表一个破坏性。不难理解：只有在当用户数据是版本 V1 时，破坏性 A 才存在，当用户数据是 V2 时，<strong>破坏性 A 对这份数据来说是不存在的</strong>，这一点非常重要。而前面我们说过，我们会给破坏性 A 配套编写一个处理器，这个处理器的作用，就是需要将格式为 V1 的用户数据，升级为 V2 格式的用户数据。所以，对于破坏性 A 的处理器，它的输入是 V1 格式的数据，输出是 V2 格式的数据。</p><p>当有新的破坏性出现的时候，我们重复这个过程，就可以实现从 V2 升级到 V3，V3 升级到 V4 了：</p><p><img src="data:image/webp;base64,UklGRhYHAABXRUJQVlA4IAoHAABQJwCdASrkAToAPplGnUqlo6MhpPXseLATCU3eU9ysleX965NvjSWM6B5r85n93/UT3EeJh+pHXI80Vgg1cVohy2stMjz/OeyfsNlLBJGSJc+fl36y3hTzHv7Z/xfaO/w/+z9yvvI+rf+v7h36w/8fgFv2MLu1yK8k29Hhr+rxbWsXzwBELqoInJt7c1+Q0iS092vznGvAm/PaCtlhoX9v5oF/dZHbcbCaY1g/PFb1vEWfkORt5aHamSkcstXxGCTIvnJ4UH/8fISazpNaNGggbejwzxwNf1VV+4Kx6VrQsYYNvIciOtBrwVn8adUhGeqfd1ojWsaxl3mcLJvS82mLVacT/CsLkdPuxG40JaZCS50pk1kNXVzfl50iuV/bPF4Rte0gIDFdEITFSokljRZJkeV4GeSAhFPaSto7L63j1jr8AAD+/bsMiRylvzI//380S3/ijfisTRnZevFcDLGqT+XikanbC6OdWqliNFot/PprOzO+inpOFVFP9ufoiVMedGCvSbdZDLMEr+Q8RErDryu1U0WYSg/pLljwk9hY6A7Pm7VOYlbhbzQtgto1S34ra4VJeiBZr2/v8uW5kUc4VzCIARzuu3lBfO9z41f3B1hxB9SIBcot0Vv52y0+qL2dwZ+WVTMYFiWtQlGxrTUR0uX0oaQ3xErQucRJEkxzrIkFRel5uJ0E7bhJjP3ET7NNDf06fnXwWnxIfJ7dVgRiH3uIywTRkwgW+aQzxeFMb9CSdzUdbj1JM9Gb3DmYPl+cFveeFHDKwTso8YQ+PCVF2teo8qXntOXyT1FiY2a4G7xc5UxkVFWli/p9rWYMxdZxL9zY4K+BB/hJ8kzBz8jW0SF+Z1VGOIjuEy0QIXQTkTMhwfLrGakRkKJrt99MviyiuWyn/YQCPUAZKiUov6JiegI/2fw1Tw0ww0w0P0zMmqjoY1LDU3bVAeX+OtVSZ81c8d9kMDOS3wEHi80WmYLC6SDKDjdrRxkqFM27MRHjwt0wGw59D/niBlcxRJX9rXJhmd2LY7KcUyiP9jOPtKiSLCBIdrgEG613WWpH1/YlrZ947+FvjIHpzQgcb+wnYZI8I/tfpcd/xdjrufRo43MT6O1rnidrvBOGKMed996I6VuNUW12JMrvFUCy7sJw58KbZxFX25FOoKgl1Kn4DGyajeK4LM3iNsxQygwcl8vDZF6WYCGNKWpemGHV3ZHXyOIwi6t2iFHb2jtMFro2xOSLoYSw+cw3+Vn4a4CVsS9K2Fo+DRQrmwvfVJAjcvWl1RGK3tVj3Hl0ml9x9MxrtKi1K0hDnMz0WZOwDjjqcdnOUGq/HG16TPeCN/P++slLwzxLWmqHCX/cly/dtF1n6/JsJc+Jx8fiJyTpeuK9vs5c4XQe8hSS43LNDcX+idWd8wNv/XcnC/bkEmes63f0wQqwpKMK268YODwk2stbijzB7cLkTecepmV9mpdg7t/QZ2O2NMkKnVLocozUoMWj6yvSzafrhLxEoTyKC9Z8sOlYdn5HfjyJHVrOAjSoAgkvft/XemnzhfOD+HtboV6O5Um7Pu74Cn346zHk2DN6HHvtOt2uCE4BNblHyx1Hu7GuFLuqCSEhHmmxRbOv3ELJDs4Ve/Hf6BL5hbwbbZGbO1BduIAxe5K3Purb3wNLeIDA+EkhJMUCgXWSn8wqVvDRdy3QuQIelMNkwdSoxvFkyP4ERbvVEifZ5CbmJF6Z/GziXMunWgZ8AJ1kDgTzzevBinQO66Y3dekXT36fkqvh9n/inGsppOUeO4E/yaD2wWf9JHZ5i+Qbfqjlr24Po4bD0dg1/UbS1ci4r7EXS7WPqiWtucFTwcfI1X3bVehQ2HrWRXX9AEHHcVdV1w/9fAhdf/mDMw18atGNccopXWvSGQ7QwmYUTy9CrS5Hcc6LuXgkl7w2CxIdU7/8o9ew4rQoqpzl0/kFuwXyMAv3uH5zYVq86biupw0bWeIooPya3XXgI7HnwvjPqAT00yNUNy8Qv+mP8yWNbsVWI87C2IQSTgGqR8STMQ5Lf3Vx/tbFODE5eaYTu98dfKQxHkzi7Noj41C0AuFk0gR3Ju3S8Gr2KVuDZaITfFdplAxpyyr5z8q9+7nRx5d8Rn3nL8Ksj0byGqozNaxrwEIoNKPPUTUq2HHCoB2m02sQby8QxvgjDiEJ3lc+fjldBQtJtf0VWwAdJPWsnJ6n4t/B5TvGr55dDu/B+s/6ia9UOafoWST3uNLJy+MiOWXf+U+fKKIfP6tqXfhsUr2igel1yCVTq0jzfkj+oGFkwp0u9IArm8ymkU/ySw8RdedZFnyiX0vy4eWZIwyHBRnBQ5zsXfadt/1Jl38GZQYEDyvaIHTpX5hsL0tNIU4ji3ePVZB4Qk6eNMkekcxPaAAAAAAAAAAAAA==" alt="c3b2afe9805a918601ff0e11c99499d5" data-fancybox="gallery"></p><p><strong>每一个处理器都只要关注处理一个破坏性，而无需关注其他破坏性</strong>，一个破坏性的内容是确定的，因此处理逻辑也是确定的，因此很容易将一个处理器做得非常健壮。</p><p>不过，不同的用户数据的有可能是在不同时间使用不同版本号的低代码编辑器来创建的，这意味着不同的用户数据可能会有不同的版本号。比如下图的灰色箭头，代表着某一笔用户数据创建的时刻：</p><p><img src="data:image/webp;base64,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" alt="74475ff051a7c439yy47dae0d3c8fdc7" data-fancybox="gallery"></p><p>显然，在箭头左边的破坏性对他来说是没有影响的，但右侧的 B/C 破坏性是有影响的。所以，对于这笔用户数据，我们需要按照顺序，依次执行破坏性 B 的处理器，再执行破坏性 C 的处理器，这样，这笔用户数据就可以被稳妥地升级到最新版本了。</p><p>通过这个方法，我们就可以做到将任意老的用户数据，稳妥、可靠地升级到最新版了，<strong>这就是化整为零的含义</strong>。所以，一个多年前做了最后一次编辑的应用工程，即使在这么长时间内低代码平台不断迭代，引入任意数量的破坏性变更，但这个应用工程也可以随时被打开再次编辑。</p><p>有了通用的解决思路后，我们再针对前面说过的三类最常见的破坏性变更，具体分析下各个类型的破坏性变更如何处理。</p><h2 id="schema-数据结构的变更" tabindex="-1">Schema 数据结构的变更 <a class="header-anchor" href="#schema-数据结构的变更" aria-label="Permalink to &quot;Schema 数据结构的变更&quot;">​</a></h2><p>我们先来看 Schema 数据结构的变更造成的破坏性，案例如下：</p><p><img src="/Aristotle/assets/34c75898ac82e166cc080bfc28df8b47.c05fc24c.webp" alt="34c75898ac82e166cc080bfc28df8b47" data-fancybox="gallery"></p><p>这是典型的迭代过程产生的破坏性的例子。一开始某个属性是一个简单值，后来扩展为一个复杂的对象。如果不采用处理器来做一致性处理，那么所有使用这个属性的代码都必须要永久做 if else：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">typeof</span><span style="color:#E1E4E8;"> v.property </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;string&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> v.property </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;string&#39;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">...</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span></code></pre></div><p>但如果采用这一讲的方法，我们只需要在处理器里直接把 property 属性的结构从字符串扩展为一个对象即可，处理的过程需要给 type 只设置一个当前的默认值就好了。</p><p>我们再来看另一个例子：</p><p><img src="/Aristotle/assets/5ae2c3ce23bc8879c0806bd91bbc1f02.79248496.webp" alt="5ae2c3ce23bc8879c0806bd91bbc1f02" data-fancybox="gallery"></p><p>这里，某个功能在迭代的过程被简化或者裁剪，把 type2 和 type3 都裁剪掉了，只留 type1，且 property 的值的结构也随着被简化。在这个情况下，处理器就可以直接把结构简化，这样 V2 及以后的代码就可以“忘记”property 属性曾经是一个数组了。</p><p>Schema 数据结构的变更可以举的例子非常多，但基本大同小异，要么就是结构变复杂了，要么就是结构变简单了。实际上，任意的结构调整，都是可以采用处理器来完成一致性处理，从而使得使用对应数据的代码无需 if else，从而大大简化代码。</p><h2 id="模板文件的变更" tabindex="-1">模板文件的变更 <a class="header-anchor" href="#模板文件的变更" aria-label="Permalink to &quot;模板文件的变更&quot;">​</a></h2><p>随着低代码平台的演进，模板文件内容发生变化是很正常的，比如前文的 index.html 的例子，有可能会增加新的脚本引入语句：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;!</span><span style="color:#85E89D;">DOCTYPE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">html</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;${title}&lt;/</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;text/javascript&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;${scriptHref}&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">&lt;!-- 增加了这一行 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;text/javascript&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;${newHref}&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">rel</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;stylesheet&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;text/css&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;${cssHref}&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    ${someContent}</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;!</span><span style="color:#22863A;">DOCTYPE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;${title}&lt;/</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">type</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;text/javascript&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;${scriptHref}&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">&lt;!-- 增加了这一行 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">type</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;text/javascript&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;${newHref}&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">rel</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;stylesheet&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">type</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;text/css&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;${cssHref}&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    ${someContent}</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>处理器消除这样的破坏性变更就更简单了。对这类问题，基本都是只要把新的模板拷贝到对应位置去即可。当然，这类破坏性变更往往会伴随着前面介绍的“Schema 数据结构的变更”，此时，一个处理器里，就需要同时处理多种不同类型的破坏性类型了。</p><h2 id="外部破坏性变更" tabindex="-1">外部破坏性变更 <a class="header-anchor" href="#外部破坏性变更" aria-label="Permalink to &quot;外部破坏性变更&quot;">​</a></h2><p>在 Pro Code 纯代码开发模式下，外部破坏性问题只能手工解决，但在低代码平台，多数情况下，我们也可以做到悄无声息地把外部破坏性变更给解决掉。</p><p>比如低代码平台所依赖的按钮组件的 API 出现了破坏性变更，按钮的文本从原来的 text 改为了 label：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">&lt;!-- 原来的用法 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">jigsaw-button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">text</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;这是一个按钮&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">jigsaw-button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 现在的用法 --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">jigsaw-button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">label</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;这是一个按钮&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">jigsaw-button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">&lt;!-- 原来的用法 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">jigsaw-button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">text</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;这是一个按钮&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">jigsaw-button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;">&lt;!-- 现在的用法 --&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">jigsaw-button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">label</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;这是一个按钮&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">jigsaw-button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>在收到强制变更说明之后，我们只要为此开发一个处理器，找到 App 里所有带有 text 属性的按钮，并自动将属性名从 text 改为 label 即可。</p><p>注意，虽然这种破坏性是在组件，但实际应该修改的是 App 的 Schema 数据。这其实非常好理解，对低代码平台来说，App 的 Schema 数据就是它的源码，低代码平台在消除外部破坏性所做的动作与纯代码所要做的动作相似，都是需要修改各自模式下的源码。</p><p>这个例子比较简单，但无论再怎么复杂的第三方库的破坏性的处理，都是类似的思路和做法。比如，你需要写一个升级器将 App 使用的 Vue 从 2.x 升级到 3.x，这是一个复杂的过程，但思路和这个例子一致：先实验或者阅读破坏性变更说明书了解到需要手工做哪些调整，然后找到 App 的 Schema 数据里的对应位置，做相应调整。</p><p>我用这个方法自动将 Angular（这是我在用的技术栈）从 4.x 升级到 8.x，后来又从 8.x 升级到现在的 9.x 版。Angular 的大版本升级更加麻烦，Webpack、Typescript、RXJS 等各种第三方库也要一起调整，但这个方法在两次升级过程中都表现得很好。</p><p>服务端 API 的破坏性变更是家常便饭，特别是第三方数据源的破坏性变更，非常不可控。这类破坏性变更的处理方式与前端第三方库的解决方式如出一辙。比如一个 Rest 服务返回的数据结构，以前的结构是一个二维数组：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[</span></span>
<span class="line"><span style="color:#E1E4E8;">  [</span><span style="color:#79B8FF;">11</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">12</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">13</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">14</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  [</span><span style="color:#79B8FF;">21</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">22</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">23</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">24</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  [</span><span style="color:#79B8FF;">31</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">32</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">33</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">34</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  [</span><span style="color:#79B8FF;">41</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">42</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">43</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">44</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">];</span></span>
<span class="line"></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[</span></span>
<span class="line"><span style="color:#24292E;">  [</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">12</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">13</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">14</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">  [</span><span style="color:#005CC5;">21</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">22</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">23</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">24</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">  [</span><span style="color:#005CC5;">31</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">32</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">33</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">34</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">  [</span><span style="color:#005CC5;">41</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">42</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">43</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">44</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">];</span></span>
<span class="line"></span></code></pre></div><p>某天突然发生变化了，变成了：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">header</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&#39;Header1&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;Header2&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;Header3&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;Header4&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">data</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    [</span><span style="color:#79B8FF;">11</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">12</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">13</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">14</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    [</span><span style="color:#79B8FF;">21</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">22</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">23</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">24</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    [</span><span style="color:#79B8FF;">31</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">32</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">33</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">34</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    [</span><span style="color:#79B8FF;">41</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">42</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">43</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">44</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">  ]</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">header</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&#39;Header1&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;Header2&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;Header3&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;Header4&#39;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">data</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">    [</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">12</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">13</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">14</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    [</span><span style="color:#005CC5;">21</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">22</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">23</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">24</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    [</span><span style="color:#005CC5;">31</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">32</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">33</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">34</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    [</span><span style="color:#005CC5;">41</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">42</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">43</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">44</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">  ]</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span></code></pre></div><p>你看，这里的结构改成了一个 json 对象，且增加了 header 属性，原来的数据被挪到 data 属性中了。编写处理器处理这样的变更，方法和前面介绍的例子别无二致，直接在 App 的 Schema 里筛选出所有使用到这个服务的地方，把处理的逻辑做一些调整即可。</p><p>那么，有没有确实无法解决的破坏性问题呢？</p><p>有的，在我们研发低代码平台的几年里，曾碰到过三四次这样的情况。比如最初的一次是我们重写了编辑器的底层逻辑，导致老版本的 Schema 相比新的 Schema 缺少了非常多的属性，我们尝试一一给出经验值，但效果仍达不到预期。</p><p>再如最近的一次是因为 UX 设计规范有大幅调整，引入了大量的 CSS 方面的破坏性，由于细节太多，几乎不可能枚举完整，我们把能想到的细节都一一用处理器消除了，但实践表明，依然有 30% 左右的 CSS 细节泄露出去了。</p><p>对于这类破坏性，我们采用的解决方法简单粗暴：<strong>升级大版本</strong>，并对外宣布这个破坏性无解，需要手工处理（我们会给出详细的处理方法，以及配置专人协助升级），一般在低代码平台做重大版本升级时，会采用这个方法。但这样做需要非常谨慎，要尽量避免，并且要与各个应用团队达成共识。</p><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>根据我的经验，常见的破坏性变更有 Schema 数据结构的变更、模板文件的变更、外部破坏性变更等，这几个类型基本占据了我碰到的破坏性变更总数的 90% 左右。</p><p>虽然单个破坏性变更所产生的负面影响（兼容性问题）一般很有限，但兼容性问题也很麻烦，其他难度再高的技术问题，都是一时的，解决了就解决了，兼容性问题最大的难点在于它产生的负担会随着时间不断累积。这一讲前面的这个图，可以很好地说明这一点：</p><p><img src="/Aristotle/assets/88fc4d25dfbef20a141ceb58ayy48994.5665b4ed.webp" alt="88fc4d25dfbef20a141ceb58ayy48994" data-fancybox="gallery"></p><p>任何一个破坏性都会导致处理用户数据的逻辑产生分叉，每一个分叉则有可能使得之前已有的判断逻辑翻倍，最终导致判断逻辑复杂到再也无法修改的境地。</p><p>根据我的经验，大概平均每 40~60 个修改会引入一个破坏性，一年能累计 20~30 个破坏性变更。所以如果没有一个有效的方法来妥善解决兼容性问题，任何团队都将迟早被它压垮。最直观的表现是代码没人敢改，没人知道为啥正确，也没人知道为啥出错。</p><p>这一讲给出的办法是，将兼容性问题化整为零来处理，<strong>每个破坏性变更的发现，都必须开发一个配套的处理器，用于将兼容性发生前的用户数据升级为兼容性发生之后的格式</strong>，这样就可以及时地处理掉破坏性。而且，更关键的是，<strong>一个处理器与一个破坏性修改是配套的</strong>，因此处理器只需要专注于处理 1 个破坏性即可，这就可以让处理器的实现足够简单，足够健壮，足够好维护。</p><p>要妥善解决破坏性问题的前提是需要能及时、稳妥地发现它们，这不只是一个技术问题，需要技术 + 管理两个手段双管齐下，无所不用其极地从各个角度采用各种形式来发现，具体的经验我一讲总结在了上一讲里了，希望你能回顾一下上一讲，并结合自身团队的经验，总结一套适合自身的发现破坏性问题的方法论。</p></div></div></main><footer class="VPDocFooter" data-v-c4b0d3cf data-v-face870a><!--[--><!--]--><!----><div class="prev-next" data-v-face870a><div class="pager" data-v-face870a><a class="pager-link prev" href="/Aristotle/lowCode/17-%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98%EF%BC%9A%E5%A6%82%E4%BD%95%E6%9C%89%E6%95%88%E5%8F%91%E7%8E%B0%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98.html" data-v-face870a><span class="desc" data-v-face870a>Previous page</span><span class="title" data-v-face870a>17-兼容性问题：如何有效发现兼容性问题</span></a></div><div class="has-prev pager" data-v-face870a><a class="pager-link next" href="/Aristotle/lowCode/19-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E5%B9%B3%E6%B0%91%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0UX%E8%AE%BE%E8%AE%A1%E7%A8%BF%E8%BD%AC%E4%BB%A3%E7%A0%81.html" data-v-face870a><span class="desc" data-v-face870a>Next page</span><span class="title" data-v-face870a>19-如何使用平民技术实现UX设计稿转代码</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-b2cf3e0b data-v-2f86ebd2><div class="container" data-v-2f86ebd2><p class="message" data-v-2f86ebd2>Released under the MIT License.</p><p class="copyright" data-v-2f86ebd2>Copyright © 2023 Hector</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"lowcode_00-抛开争论，先来看看真正的低代码.md\":\"d8218a8a\",\"browser_41 加餐五-性能分析工具：如何分析performance中的main指标.md\":\"fbdf1deb\",\"browser_21-chrome开发者工具：利用网络面板做性能分析.md\":\"1748a064\",\"browser_22-dom树：javascript是如何影响dom树构建的.md\":\"5edbca61\",\"browser_17-webapi：xmlhttprequest是怎么实现的.md\":\"b4de20be\",\"browser_01-chrome架构：仅仅打开了1个页面，为什么有4个进程.md\":\"7523f8ce\",\"browser_04-导航流程：从输入url到页面展示，这中间发生了什么.md\":\"3ce9a6c7\",\"browser_02-tcp协议：如何保证页面文件能被完整送达浏览器.md\":\"2bed9c7a\",\"browser_23-渲染流水线：css如何影响首次加载时的白屏时间.md\":\"742015fd\",\"browser_24-分层和合成机制：为什么css动画比javascript高效.md\":\"10fe8aa4\",\"browser_27-渐进式网页应用（pwa）：它究竟解决了web应用的哪些问题.md\":\"afb64a76\",\"browser_25-页面性能：如何系统地优化页面.md\":\"45e7a9cf\",\"browser_28-webcomponent：像搭积木一样构建web应用.md\":\"c4f8ca0f\",\"browser_26-虚拟dom：虚拟dom和实际的dom有何不同.md\":\"e4223045\",\"browser_31-http3：甩掉tcp、tls 的包袱，构建高效网络.md\":\"19c45815\",\"browser_29-http1：http性能优化.md\":\"9e42859b\",\"browser_12-栈空间和堆空间：数据是如何存储的.md\":\"123aadf5\",\"browser_06-渲染流程（下）：html、css和javascript，是如何变成页面的.md\":\"33c32ec7\",\"browser_07-变量提升：javascript代码是按顺序执行的吗.md\":\"4eb41f6e\",\"browser_09-块级作用域：var缺陷以及为什么要引入let和const.md\":\"e231d8e7\",\"browser_08-调用栈：为什么javascript代码会出现栈溢出.md\":\"17c89058\",\"browser_30-http2：如何提升网络速度.md\":\"8b2b28b2\",\"browser_03-http请求流程：为什么很多站点第二次打开速度会很快.md\":\"8f3407a3\",\"browser_16-webapi：settimeout是如何实现的.md\":\"9b694917\",\"browser_05-渲染流程（上）：html、css和javascript，是如何变成页面的.md\":\"5a34d740\",\"browser_14-编译器和解释器：v8是如何执行一段javascript代码的.md\":\"874779fb\",\"browser_42 加餐六-https：浏览器如何验证数字证书.md\":\"4a089efa\",\"browser_15-消息队列和事件循环：页面是怎么“活”起来的.md\":\"2122011e\",\"browser_index.md\":\"472aa2fa\",\"devdebugger_vscode调试vue2项目配置教程.md\":\"586f6556\",\"devdebugger_index.md\":\"3aa0ae1d\",\"index.md\":\"3d738191\",\"knowledge_index.md\":\"7798333e\",\"course_index.md\":\"557ebb66\",\"browser_13-垃圾回收：垃圾数据是如何自动回收的.md\":\"dc570f14\",\"browser_19-promise：使用promise，告别回调函数.md\":\"595d6ce7\",\"browser_33-跨站脚本攻击（xss）：为什么cookie中有httponly属性.md\":\"1db51865\",\"browser_40 加餐四-页面性能工具：如何使用performance.md\":\"15a129cb\",\"browser_35-安全沙箱：页面和系统之间的隔离墙.md\":\"558bc791\",\"browser_34-csrf攻击：陌生链接不要随便点.md\":\"dd7bbb93\",\"browser_32-同源策略：为什么xmlhttprequest不能跨域请求资源.md\":\"01c9d46d\",\"browser_36-https：让数据传输更安全.md\":\"dd15e02b\",\"browser_39 加餐三-加载阶段性能：使用audits来优化web性能.md\":\"9bdc46bb\",\"browser_38 加餐二-任务调度：有了settimeout，为什么还要使用raf.md\":\"3ee2f954\",\"browser_20-asyncawait：使用同步的方式去写异步代码.md\":\"6da2f02b\",\"browser_10-作用域链和闭包 ：代码中出现相同的变量，javascript引擎是如何选择的.md\":\"a61196e2\",\"browser_18-宏任务和微任务：不是所有任务都是一个待遇.md\":\"55c607ef\",\"browser_37 加餐一-浏览上下文组：如何计算chrome中渲染进程的个数.md\":\"92679cc5\",\"browser_11-this：从javascript执行上下文的视角讲清楚this.md\":\"b2798425\",\"lowcode_02-低代码到底是银弹，还是行业毒瘤.md\":\"155ba1be\",\"lowcode_01-低代码平台到底是什么样的.md\":\"b4b1cdf8\",\"lowcode_03-低代码的天花板：一个完备的低代码平台应该具备哪些条件.md\":\"fc5018c5\",\"lowcode_04-演进策略：先发展通用能力还是先满足业务需求.md\":\"c78aa2d2\",\"lowcode_05-基础设施 ：启动低代码平台研发之前，你需要有什么家底.md\":\"b9734c6e\",\"lowcode_06-踏出新手村便遭遇大boss：如何架构低代码的引擎.md\":\"5af0858c\",\"lowcode_17-兼容性问题：如何有效发现兼容性问题.md\":\"841dad93\",\"lowcode_18-兼容性问题：如何有效解决兼容性问题.md\":\"25a8b5b8\",\"lowcode_08-布局编辑器：如何做到鱼和熊掌兼得.md\":\"170bfff9\",\"lowcode_15-低代码平台应该优先覆盖应用研发生命周期中的哪些功能.md\":\"95becedb\",\"lowcode_10-可视化编程：如何有效降低app前后端逻辑开发的技能门槛.md\":\"17fc35fc\",\"lowcode_13-多人协同编辑：野百合的春天为啥来得这么晚.md\":\"a7144c43\",\"lowcode_07-结构化代码生成法：代码如何生成代码.md\":\"da6f3912\",\"lowcode_16-扩展与定制：如何实现插件系统并形成生态圈.md\":\"218f1d5f\",\"lowcode_09-属性编辑器：如何解除web组件属性与编辑器的耦合.md\":\"5848aeb0\",\"lowcode_总结与展望-低代码之路，我们才刚刚开始.md\":\"c54e60ac\",\"lowcode_14-编辑历史：是对git做改造，还是另辟蹊径.md\":\"2d6074eb\",\"lowcode_11-亦敌亦友：low code与pro code混合使用怎样实现.md\":\"c3a6c7df\",\"lowcode_12-业务数据：再好的app，没有数据也是白搭.md\":\"fd92a941\",\"lowcode_19-如何使用平民技术实现ux设计稿转代码.md\":\"7d7340f7\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"柴帽双全的博客\",\"description\":\"柴帽双全的博客\",\"base\":\"/Aristotle/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"siteTitle\":\"柴帽双全\",\"nav\":[{\"text\":\"课程笔记\",\"link\":\"/course/\"},{\"text\":\"前端知识\",\"link\":\"/knowledge/\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Hector526\"},{\"icon\":{\"svg\":\"<svg t=\\\"1663660926462\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"2449\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M465.189 161.792c-22.967 18.14-44.325 35.109-47.397 37.742l-5.851 4.68 10.971 8.632c5.998 4.827 11.85 9.508 13.02 10.532 1.17 1.024 17.993 14.336 37.156 29.696l34.962 27.795 5.267-3.95c2.925-2.194 23.259-18.432 45.348-35.986 21.943-17.555 41.253-32.768 42.716-33.646 1.609-1.024 2.779-2.194 2.779-2.78 0-0.438-9.655-8.63-21.504-17.846-11.995-9.363-22.674-17.847-23.845-18.871-15.945-13.02-49.737-39.059-50.76-39.059-0.586 0.147-19.896 14.922-42.862 33.061z m233.325 180.37C507.465 493.275 508.928 492.105 505.417 489.911c-3.072-1.902-11.556-8.485-64.073-50.03-9.07-7.168-18.578-14.775-21.358-16.823-2.78-2.194-8.777-6.875-13.312-10.532-4.68-3.657-10.679-8.339-13.312-10.533-13.165-10.24-71.095-56.027-102.107-80.457-5.852-4.681-11.41-8.485-12.142-8.485-0.731 0-10.971 7.754-22.674 17.116-11.703 9.508-22.674 18.286-24.284 19.456-1.755 1.17-5.12 3.95-7.46 6.144-2.34 2.34-4.828 4.096-5.413 4.096-3.072 0-0.731 3.072 6.437 8.777 4.096 3.218 8.777 6.875 10.094 8.046 1.316 1.024 10.24 8.045 19.748 15.506s23.26 18.286 30.428 23.99c19.31 15.215 31.89 25.308 127.853 101.084 47.836 37.742 88.796 69.779 90.844 71.095 3.657 2.487 3.95 2.487 7.46-0.292a1041.42 1041.42 0 0 0 16.092-12.727c6.875-5.413 14.775-11.703 17.554-13.897 30.135-23.699 80.018-63.05 81.774-64.512 1.17-1.024 12.434-9.802 24.868-19.603s37.888-29.696 56.32-44.324c18.579-14.629 46.227-36.425 61.733-48.567 15.506-12.142 27.794-22.528 27.502-23.26-0.878-1.17-57.637-47.104-59.978-48.274-0.731-0.439-18.578 12.727-39.497 29.257z\\\" fill=\\\"#8a8a8a\\\" p-id=\\\"2450\\\"></path><path d=\\\"M57.93 489.326c-15.215 12.288-28.527 23.405-29.697 24.576-2.34 2.194-5.412-0.44 80.018 66.852 33.207 26.185 32.622 25.747 57.637 45.495 10.386 8.192 36.279 28.672 57.783 45.495 38.18 30.135 44.91 35.401 52.663 41.545 2.048 1.756 22.967 18.14 46.372 36.572 23.26 18.432 74.167 58.514 112.933 89.088 38.912 30.573 71.095 55.734 71.826 56.027 0.732 0.293 7.46-4.389 14.921-10.386 21.797-16.97 90.259-70.949 101.523-79.872 5.705-4.535 12.873-10.24 15.945-12.58 3.072-2.488 6.436-5.12 7.314-5.852 0.878-0.878 11.85-9.509 24.283-19.31 20.773-16.091 59.1-46.226 64.366-50.615 1.17-1.024 5.12-4.096 8.777-6.875 3.657-2.78 7.9-6.29 9.509-7.607 1.609-1.317 14.775-11.703 29.257-23.113 29.11-22.82 42.277-33.207 88.503-69.632 17.262-13.605 32.475-25.454 33.646-26.478 2.486-2.048 31.451-24.869 44.617-35.255 4.827-3.657 9.07-7.168 9.508-7.607 0.44-0.585 5.998-4.827 12.435-9.8 6.436-4.828 13.165-10.24 15.067-11.85l3.365-2.926-9.948-7.753c-5.412-4.388-10.24-8.192-10.679-8.63-1.17-1.317-22.381-18.433-30.135-24.284-3.95-3.072-7.314-5.998-7.606-6.73-1.317-3.071-6.73 0.147-29.258 17.994-13.458 10.532-25.746 20.187-27.355 21.504-1.61 1.463-10.533 8.338-19.749 15.652-9.216 7.168-17.115 13.459-17.554 13.898-0.439 0.438-6.583 5.412-13.897 10.971-7.168 5.559-15.214 11.703-17.7 13.75-4.974 4.097-5.413 4.39-20.334 16.239-5.56 4.388-11.264 8.777-12.435 9.8-1.17 1.025-20.333 16.092-42.422 33.354-22.09 17.408-41.546 32.768-43.155 34.084-1.609 1.463-14.482 11.557-28.525 22.528s-40.814 32.037-59.539 46.812c-18.578 14.775-42.276 33.353-52.516 41.399s-23.26 18.285-28.965 22.82l-10.386 8.339-4.389-3.072c-2.34-1.756-4.68-3.511-5.12-3.95-0.439-0.439-4.973-4.096-10.24-8.046-11.849-9.216-14.482-11.264-16.676-13.166-0.878-0.877-4.243-3.51-7.46-5.851-3.22-2.487-6.145-4.681-6.584-5.12-0.439-0.439-6.875-5.705-14.482-11.703-7.607-5.851-14.921-11.556-16.091-12.58-1.317-1.17-17.116-13.605-35.255-27.795-17.993-14.19-35.109-27.648-38.035-29.842-5.705-4.681-33.499-26.624-125.074-98.743-34.523-27.209-72.704-57.344-84.846-66.852-49.737-39.498-55.15-43.594-56.905-43.447-0.877 0-14.043 10.24-29.257 22.528z\\\" fill=\\\"#8a8a8a\\\" p-id=\\\"2451\\\"></path></svg>\"},\"link\":\"https://juejin.cn/user/2559318799429822\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2023 Hector\"},\"sidebar\":{\"/course/\":[{\"text\":\"课程笔记\",\"items\":[{\"text\":\"目录\",\"link\":\"/course/\"},{\"text\":\"浏览器原理\",\"link\":\"/browser/\"},{\"text\":\"浏览器原理\",\"link\":\"/lowCode/00-抛开争论，先来看看真正的低代码\"}]}],\"/browser/\":[{\"text\":\"浏览器原理\",\"items\":[{\"text\":\"宏观视角上的浏览器\",\"collapsed\":true,\"items\":[{\"text\":\"简介\",\"link\":\"/browser/\"},{\"text\":\"01-Chrome架构：仅仅打开了1个页面为什么有4个进程\",\"link\":\"/browser/01-Chrome架构：仅仅打开了1个页面，为什么有4个进程\"},{\"text\":\"02-TCP协议：如何保证页面文件能被完整送达浏览器\",\"link\":\"/browser/02-TCP协议：如何保证页面文件能被完整送达浏览器\"},{\"text\":\"03-HTTP请求流程：为什么很多站点第二次打开速度会很快\",\"link\":\"/browser/03-HTTP请求流程：为什么很多站点第二次打开速度会很快\"},{\"text\":\"04-导航流程：从输入URL到页面展示，这中间发生了什么\",\"link\":\"/browser/04-导航流程：从输入URL到页面展示，这中间发生了什么\"},{\"text\":\"05-渲染流程（上）：HTML、CSS和JavaScript，是如何变成页面的\",\"link\":\"/browser/05-渲染流程（上）：HTML、CSS和JavaScript，是如何变成页面的\"},{\"text\":\"06-渲染流程（下）：HTML、CSS和JavaScript，是如何变成页面的\",\"link\":\"/browser/06-渲染流程（下）：HTML、CSS和JavaScript，是如何变成页面的\"}]},{\"text\":\"浏览器中的JavaScript执行机制\",\"collapsed\":true,\"items\":[{\"text\":\"07-变量提升：JavaScript代码是按顺序执行的吗\",\"link\":\"/browser/07-变量提升：JavaScript代码是按顺序执行的吗\"},{\"text\":\"08-调用栈：为什么JavaScript代码会出现栈溢出\",\"link\":\"/browser/08-调用栈：为什么JavaScript代码会出现栈溢出\"},{\"text\":\"09-块级作用域：var缺陷以及为什么要引入let和const\",\"link\":\"/browser/09-块级作用域：var缺陷以及为什么要引入let和const\"},{\"text\":\"10-作用域链和闭包 ：代码中出现相同的变量，JavaScript引擎是如何选择的\",\"link\":\"/browser/10-作用域链和闭包 ：代码中出现相同的变量，JavaScript引擎是如何选择的\"},{\"text\":\"11-this：从JavaScript执行上下文的视角讲清楚this\",\"link\":\"/browser/11-this：从JavaScript执行上下文的视角讲清楚this\"}]},{\"text\":\"V8工作原理\",\"collapsed\":true,\"items\":[{\"text\":\"12-栈空间和堆空间：数据是如何存储的\",\"link\":\"/browser/12-栈空间和堆空间：数据是如何存储的\"},{\"text\":\"13-垃圾回收：垃圾数据是如何自动回收的\",\"link\":\"/browser/13-垃圾回收：垃圾数据是如何自动回收的\"},{\"text\":\"14-编译器和解释器：V8是如何执行一段JavaScript代码的\",\"link\":\"/browser/14-编译器和解释器：V8是如何执行一段JavaScript代码的\"}]},{\"text\":\"浏览器中的页面循环系统\",\"collapsed\":true,\"items\":[{\"text\":\"15-消息队列和事件循环：页面是怎么“活”起来的\",\"link\":\"/browser/15-消息队列和事件循环：页面是怎么“活”起来的\"},{\"text\":\"16-WebAPI：setTimeout是如何实现的\",\"link\":\"/browser/16-WebAPI：setTimeout是如何实现的\"},{\"text\":\"17-WebAPI：XMLHttpRequest是怎么实现的\",\"link\":\"/browser/17-WebAPI：XMLHttpRequest是怎么实现的\"},{\"text\":\"18-宏任务和微任务：不是所有任务都是一个待遇\",\"link\":\"/browser/18-宏任务和微任务：不是所有任务都是一个待遇\"},{\"text\":\"19-Promise：使用Promise，告别回调函数\",\"link\":\"/browser/19-Promise：使用Promise，告别回调函数\"},{\"text\":\"20-asyncawait：使用同步的方式去写异步代码\",\"link\":\"/browser/20-asyncawait：使用同步的方式去写异步代码\"}]},{\"text\":\"浏览器中的页面\",\"collapsed\":true,\"items\":[{\"text\":\"21-Chrome开发者工具：利用网络面板做性能分析\",\"link\":\"/browser/21-Chrome开发者工具：利用网络面板做性能分析\"},{\"text\":\"22-DOM树：JavaScript是如何影响DOM树构建的\",\"link\":\"/browser/22-DOM树：JavaScript是如何影响DOM树构建的\"},{\"text\":\"23-渲染流水线：CSS如何影响首次加载时的白屏时间\",\"link\":\"/browser/23-渲染流水线：CSS如何影响首次加载时的白屏时间\"},{\"text\":\"24-分层和合成机制：为什么CSS动画比JavaScript高效\",\"link\":\"/browser/24-分层和合成机制：为什么CSS动画比JavaScript高效\"},{\"text\":\"25-页面性能：如何系统地优化页面\",\"link\":\"/browser/25-页面性能：如何系统地优化页面\"},{\"text\":\"26-虚拟DOM：虚拟DOM和实际的DOM有何不同\",\"link\":\"/browser/26-虚拟DOM：虚拟DOM和实际的DOM有何不同\"},{\"text\":\"27-渐进式网页应用（PWA）：它究竟解决了Web应用的哪些问题\",\"link\":\"/browser/27-渐进式网页应用（PWA）：它究竟解决了Web应用的哪些问题\"},{\"text\":\"28-WebComponent：像搭积木一样构建Web应用\",\"link\":\"/browser/28-WebComponent：像搭积木一样构建Web应用\"}]},{\"text\":\"浏览器中的网络\",\"collapsed\":true,\"items\":[{\"text\":\"29-HTTP1：HTTP性能优化\",\"link\":\"/browser/29-HTTP1：HTTP性能优化\"},{\"text\":\"30-HTTP2：如何提升网络速度\",\"link\":\"/browser/30-HTTP2：如何提升网络速度\"},{\"text\":\"31-HTTP3：甩掉TCP、TLS 的包袱，构建高效网络\",\"link\":\"/browser/31-HTTP3：甩掉TCP、TLS 的包袱，构建高效网络\"},{\"text\":\"32-同源策略：为什么XMLHttpRequest不能跨域请求资源\",\"link\":\"/browser/32-同源策略：为什么XMLHttpRequest不能跨域请求资源\"},{\"text\":\"33-跨站脚本攻击（XSS）：为什么Cookie中有HttpOnly属性\",\"link\":\"/browser/33-跨站脚本攻击（XSS）：为什么Cookie中有HttpOnly属性\"},{\"text\":\"34-CSRF攻击：陌生链接不要随便点\",\"link\":\"/browser/34-CSRF攻击：陌生链接不要随便点\"},{\"text\":\"35-安全沙箱：页面和系统之间的隔离墙\",\"link\":\"/browser/35-安全沙箱：页面和系统之间的隔离墙\"},{\"text\":\"36-HTTPS：让数据传输更安全\",\"link\":\"/browser/36-HTTPS：让数据传输更安全\"}]},{\"text\":\"加餐\",\"collapsed\":true,\"items\":[{\"text\":\"37 加餐一-浏览上下文组：如何计算Chrome中渲染进程的个数\",\"link\":\"/browser/37 加餐一-浏览上下文组：如何计算Chrome中渲染进程的个数\"},{\"text\":\"38 加餐二-任务调度：有了setTimeOut，为什么还要使用rAF\",\"link\":\"/browser/38 加餐二-任务调度：有了setTimeOut，为什么还要使用rAF\"},{\"text\":\"39 加餐三-加载阶段性能：使用Audits来优化Web性能\",\"link\":\"/browser/39 加餐三-加载阶段性能：使用Audits来优化Web性能\"},{\"text\":\"40 加餐四-页面性能工具：如何使用Performance\",\"link\":\"/browser/40 加餐四-页面性能工具：如何使用Performance\"},{\"text\":\"41 加餐五-性能分析工具：如何分析Performance中的Main指标\",\"link\":\"/browser/41 加餐五-性能分析工具：如何分析Performance中的Main指标\"},{\"text\":\"42 加餐六-HTTPS：浏览器如何验证数字证书\",\"link\":\"/browser/42 加餐六-HTTPS：浏览器如何验证数字证书\"}]}]}],\"/lowCode/\":[{\"text\":\"说透低代码\",\"items\":[{\"text\":\"开篇词\",\"collapsed\":true,\"items\":[{\"text\":\"00-抛开争论，先来看看真正的低代码\",\"link\":\"/lowCode/00-抛开争论，先来看看真正的低代码\"}]},{\"text\":\"认知基础与架构策略\",\"collapsed\":true,\"items\":[{\"text\":\"01-低代码平台到底是什么样的\",\"link\":\"/lowCode/01-低代码平台到底是什么样的\"},{\"text\":\"02-低代码到底是银弹，还是行业毒瘤\",\"link\":\"/lowCode/02-低代码到底是银弹，还是行业毒瘤\"},{\"text\":\"03-低代码的天花板：一个完备的低代码平台应该具备哪些条件\",\"link\":\"/lowCode/03-低代码的天花板：一个完备的低代码平台应该具备哪些条件\"},{\"text\":\"04-演进策略：先发展通用能力还是先满足业务需求\",\"link\":\"/lowCode/04-演进策略：先发展通用能力还是先满足业务需求\"},{\"text\":\"05-基础设施 ：启动低代码平台研发之前，你需要有什么家底\",\"link\":\"/lowCode/05-基础设施 ：启动低代码平台研发之前，你需要有什么家底\"}]},{\"text\":\"核心功能开发\",\"collapsed\":true,\"items\":[{\"text\":\"06-踏出新手村便遭遇大Boss：如何架构低代码的引擎\",\"link\":\"/lowCode/06-踏出新手村便遭遇大Boss：如何架构低代码的引擎\"},{\"text\":\"07-结构化代码生成法：代码如何生成代码\",\"link\":\"/lowCode/07-结构化代码生成法：代码如何生成代码\"},{\"text\":\"08-布局编辑器：如何做到鱼和熊掌兼得\",\"link\":\"/lowCode/08-布局编辑器：如何做到鱼和熊掌兼得\"},{\"text\":\"09-属性编辑器：如何解除Web组件属性与编辑器的耦合\",\"link\":\"/lowCode/09-属性编辑器：如何解除Web组件属性与编辑器的耦合\"},{\"text\":\"10-可视化编程：如何有效降低App前后端逻辑开发的技能门槛\",\"link\":\"/lowCode/10-可视化编程：如何有效降低App前后端逻辑开发的技能门槛\"},{\"text\":\"11-亦敌亦友：Low Code与Pro Code混合使用怎样实现\",\"link\":\"/lowCode/11-亦敌亦友：Low Code与Pro Code混合使用怎样实现\"},{\"text\":\"12-业务数据：再好的App，没有数据也是白搭\",\"link\":\"/lowCode/12-业务数据：再好的App，没有数据也是白搭\"},{\"text\":\"13-多人协同编辑：野百合的春天为啥来得这么晚\",\"link\":\"/lowCode/13-多人协同编辑：野百合的春天为啥来得这么晚\"},{\"text\":\"14-编辑历史：是对Git做改造，还是另辟蹊径\",\"link\":\"/lowCode/14-编辑历史：是对Git做改造，还是另辟蹊径\"}]},{\"text\":\"平台功能拓展\",\"collapsed\":true,\"items\":[{\"text\":\"15-低代码平台应该优先覆盖应用研发生命周期中的哪些功能\",\"link\":\"/lowCode/15-低代码平台应该优先覆盖应用研发生命周期中的哪些功能\"},{\"text\":\"16-扩展与定制：如何实现插件系统并形成生态圈\",\"link\":\"/lowCode/16-扩展与定制：如何实现插件系统并形成生态圈\"}]},{\"text\":\"阶段性总结\",\"collapsed\":true,\"items\":[{\"text\":\"总结与展望-低代码之路，我们才刚刚开始\",\"link\":\"/lowCode/总结与展望-低代码之路，我们才刚刚开始\"}]},{\"text\":\"动态更新\",\"collapsed\":true,\"items\":[{\"text\":\"17-兼容性问题：如何有效发现兼容性问题\",\"link\":\"/lowCode/17-兼容性问题：如何有效发现兼容性问题\"},{\"text\":\"18-兼容性问题：如何有效解决兼容性问题\",\"link\":\"/lowCode/18-兼容性问题：如何有效解决兼容性问题\"},{\"text\":\"19-如何使用平民技术实现UX设计稿转代码\",\"link\":\"/lowCode/19-如何使用平民技术实现UX设计稿转代码\"}]}]}],\"/knowledge/\":[{\"text\":\"前端知识\",\"items\":[{\"text\":\"目录\",\"link\":\"/knowledge/\"},{\"text\":\"前端调试\",\"link\":\"/devDebugger/\"}]}],\"/devDebugger/\":[{\"text\":\"前端调试\",\"items\":[{\"text\":\"简介\",\"link\":\"/devDebugger/\"},{\"text\":\"VSCode调试Vue2项目配置教程\",\"link\":\"/devDebugger/VSCode调试Vue2项目配置教程\"}]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>